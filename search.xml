<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>springbootç»Ÿä¸€å¼‚å¸¸å¤„ç†</title>
    <url>/2020/05/04/springboot%E7%BB%9F%E4%B8%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/</url>
    <content><![CDATA[<h1 id="è§£å†³çš„é—®é¢˜"><a href="#è§£å†³çš„é—®é¢˜" class="headerlink" title="è§£å†³çš„é—®é¢˜"></a>è§£å†³çš„é—®é¢˜</h1><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/hello"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> String <span class="token function">hello</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"name"</span><span class="token punctuation">,</span>defaultValue <span class="token operator">=</span> <span class="token string">"World"</span><span class="token punctuation">)</span> String name<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Objects<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token string">"å¼ æµ·è¾¾"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">MyException</span><span class="token punctuation">(</span><span class="token string">"å§“åä¸èƒ½æ˜¯å¼ æµ·è¾¾"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> String<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"Hello %s"</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre>
<p><img src="/images/springboot%E7%BB%9F%E4%B8%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/1588607392113.png" alt="1588607392113"></p>
<p><img src="/images/springboot%E7%BB%9F%E4%B8%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/1588607439175.png" alt="1588607439175"></p>
<p>é—®é¢˜ï¼š</p>
<ol>
<li><p>æœ‰äº›å¼‚å¸¸åç«¯æœåŠ¡ä¸éœ€è¦å…³å¿ƒï¼Œåªéœ€æŠ›å‡ºå¼‚å¸¸ä¸åšå¤„ç†</p>
</li>
<li><p>å“åº”ä¿¡æ¯å†—ä½™ï¼Œéœ€è¦å®šä¹‰ç®€æ´çš„å“åº”ä¿¡æ¯</p>
</li>
</ol>
<h1 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h1><p>é¦–å…ˆä½¿ç”¨@ControllerAdviceå’Œ@ExceptionHandlerç»Ÿä¸€å¤„ç†MyExceptionå¼‚å¸¸ï¼ŒæœåŠ¡ç«¯ä¸åšå¼‚å¸¸å¤„ç†ï¼Œä¸è¾“å‡ºå¼‚å¸¸åˆ°æ—¥å¿—ï¼Œç„¶åå®šä¹‰å“åº”å†…å®¹æ ¼å¼</p>
<pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ErrorCodeVo</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> String Code<span class="token punctuation">;</span>
    <span class="token keyword">private</span> String message<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@ControllerAdvice</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyExceptionHandler</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span>MyException<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> ResponseEntity <span class="token function">handlerMyException</span><span class="token punctuation">(</span>MyException ex<span class="token punctuation">)</span><span class="token punctuation">{</span>
        ErrorCodeVo errorCodeVo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ErrorCodeVo</span><span class="token punctuation">(</span><span class="token string">"003"</span><span class="token punctuation">,</span> <span class="token string">"å§“åæ— æ•ˆ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> ResponseEntity<span class="token punctuation">.</span><span class="token function">badRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span>errorCodeVo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p><img src="/images/springboot%E7%BB%9F%E4%B8%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/1588608442588.png" alt="1588608442588"></p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>springboot</tag>
        <tag>ControllerAdvice</tag>
        <tag>ExceptionHandler</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯¹è±¡å¼•ç”¨</title>
    <url>/2020/05/02/%E5%AF%B9%E8%B1%A1%E5%BC%95%E7%94%A8/</url>
    <content><![CDATA[<h1 id="å¯¹è±¡å¼•ç”¨ç±»å‹"><a href="#å¯¹è±¡å¼•ç”¨ç±»å‹" class="headerlink" title="å¯¹è±¡å¼•ç”¨ç±»å‹"></a>å¯¹è±¡å¼•ç”¨ç±»å‹</h1><p><img src="/images/%E5%AF%B9%E8%B1%A1%E5%BC%95%E7%94%A8/referenceObject.jpg" alt=""></p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>JAVAåŸºç¡€</tag>
        <tag>å¼•ç”¨ç±»å‹</tag>
        <tag>å¯¹è±¡å¼•ç”¨</tag>
      </tags>
  </entry>
  <entry>
    <title>ThreadLocal</title>
    <url>/2020/04/25/ThreadLocal/</url>
    <content><![CDATA[<h1 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h1><p>æœ¬åœ°çº¿ç¨‹å‰¯æœ¬å˜é‡å·¥å…·ç±»ï¼Œæœ¬åœ°å˜é‡ï¼Œçº¿ç¨‹ä¸“äº«ï¼Œäº’ä¸å½±å“<br>æ¯ä¸ªçº¿ç¨‹æœ‰ä¸ªThreadLocalMapï¼Œç”± Entry&lt;key,value&gt;æ„æˆï¼Œ keyå¼±å¼•ç”¨æŒ‡å‘â€”â€“&gt;Threadlocal ï¼Œvalue-&gt;Objectã€‚</p>
<p>çº¿ç¨‹å†…new threadlocalï¼Œsetä¿å­˜å˜é‡åˆ°threadlocalmapï¼Œgetä»threadlocalmapå–å‡ºå˜é‡ï¼Œæ¯ä¸ªçº¿ç¨‹æœ‰è‡ªå·±çš„theradlocalmap,setæ—¶ï¼Œå°†threadlocalä½œä¸ºentryçš„keyä¿å­˜ï¼Œå°†å˜é‡ä½œä¸ºvalueä¿å­˜ï¼ŒkeyæŒ‡å‘çš„threadlocalä¸ºå¼±å¼•ç”¨ï¼Œç”¨å®ŒååŠ¡å¿…removeï¼Œé¿å…å†…å­˜æº¢å‡ºã€‚</p>
<p><img src="/images/ThreadLocal/threadlocal2.png" alt=""></p>
<p><img src="/images/ThreadLocal/threadlocacl3.jpg" alt=""></p>
<p><img src="/images/ThreadLocal/threadlocal4.png" alt=""></p>
<p><img src="/images/ThreadLocal/threadlocal5.jpg" alt=""></p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>JAVAåŸºç¡€</tag>
        <tag>ThreadLocal</tag>
        <tag>ThreadLocalMap</tag>
        <tag>å¼•ç”¨ç±»å‹</tag>
      </tags>
  </entry>
  <entry>
    <title>volatile</title>
    <url>/2020/04/19/volatile/</url>
    <content><![CDATA[<h1 id="volatileæ¦‚å¿µ"><a href="#volatileæ¦‚å¿µ" class="headerlink" title="volatileæ¦‚å¿µ"></a>volatileæ¦‚å¿µ</h1><ol>
<li><p>ä¿è¯çº¿ç¨‹(CPU)å¯è§æ€§</p>
</li>
<li><p>ç¦æ­¢æŒ‡ä»¤é‡æ’åº</p>
<p>eg.DCLå•ä¾‹ï¼ˆDouble Check Lockï¼‰æ¨¡å¼éœ€è¦volatileå…³é”®å­—ä¿®é¥°</p>
<p>new åœ¨å­—èŠ‚ç å±‚çº§æœ‰ä¸‹é¢ä¸‰æ¡æŒ‡ä»¤</p>
<p>0 new #2 <t></t></p>
<p>4 invokespecial #3 &lt;T.<init>&gt;</init></p>
<p>7 astore_1</p>
<p>å¦‚æœ4 7 æŒ‡ä»¤é‡æ’åºnewæ˜¯åŠåˆå§‹åŒ–çŠ¶æ€çš„å¯¹è±¡</p>
</li>
</ol>
<h2 id="Volatileå¦‚ä½•è§£å†³æŒ‡ä»¤é‡æ’åº"><a href="#Volatileå¦‚ä½•è§£å†³æŒ‡ä»¤é‡æ’åº" class="headerlink" title="Volatileå¦‚ä½•è§£å†³æŒ‡ä»¤é‡æ’åº"></a>Volatileå¦‚ä½•è§£å†³æŒ‡ä»¤é‡æ’åº</h2><p>1.æºç å±‚ï¼švolatile i</p>
<p>2.å­—èŠ‚ç å±‚:Access flags:volatile,åªåŠ volatileä¿®é¥°</p>
<p>3.JVMå±‚ï¼šå†…å­˜å±éšœï¼ŒLoadLoad,StoreStore,LoadStore,StoreLoadï¼Œå±éšœä¸¤è¾¹çš„æŒ‡ä»¤ä¸å¯ä»¥é‡æ’åº</p>
<p>4.hotspotå®ç°ï¼šåº•å±‚CæŒ‡ä»¤lock</p>
<h1 id="å…¶ä»–æ¦‚å¿µ"><a href="#å…¶ä»–æ¦‚å¿µ" class="headerlink" title="å…¶ä»–æ¦‚å¿µ"></a>å…¶ä»–æ¦‚å¿µ</h1><h2 id="MESI"><a href="#MESI" class="headerlink" title="MESI"></a>MESI</h2><p>CPUé«˜é€Ÿç¼“å­˜ä¸€è‡´æ€§åè®®</p>
<p>CPUä¸­å†…ç½®äº†å°‘é‡çš„é«˜é€Ÿç¼“å­˜ä»¥è§£å†³I\Oé€Ÿåº¦å’ŒCPUè¿ç®—é€Ÿåº¦ä¹‹é—´çš„ä¸åŒ¹é…é—®é¢˜ã€‚</p>
<p>åœ¨CPUè®¿é—®å­˜å‚¨è®¾å¤‡æ—¶ï¼Œæ— è®ºæ˜¯å­˜å–æ•°æ®æŠ‘æˆ–å­˜å–æŒ‡ä»¤ï¼Œéƒ½è¶‹äºèšé›†åœ¨ä¸€ç‰‡è¿ç»­çš„åŒºåŸŸä¸­ï¼Œè¿™å°±è¢«ç§°ä¸ºå±€éƒ¨æ€§åŸç†ã€‚</p>
<p><strong>æ—¶é—´å±€éƒ¨æ€§ï¼ˆTemporal Localityï¼‰</strong>ï¼šå¦‚æœä¸€ä¸ªä¿¡æ¯é¡¹æ­£åœ¨è¢«è®¿é—®ï¼Œé‚£ä¹ˆåœ¨è¿‘æœŸå®ƒå¾ˆå¯èƒ½è¿˜ä¼šè¢«å†æ¬¡è®¿é—®ï¼Œæ¯”å¦‚å¾ªç¯ã€é€’å½’ã€æ–¹æ³•çš„åå¤è°ƒç”¨ç­‰ã€‚</p>
<p><strong>ç©ºé—´å±€éƒ¨æ€§ï¼ˆSpatial Localityï¼‰</strong>ï¼šå¦‚æœä¸€ä¸ªå­˜å‚¨å™¨çš„ä½ç½®è¢«å¼•ç”¨ï¼Œé‚£ä¹ˆå°†æ¥ä»–é™„è¿‘çš„ä½ç½®ä¹Ÿä¼šè¢«å¼•ç”¨ï¼Œæ¯”å¦‚é¡ºåºæ‰§è¡Œçš„ä»£ç ã€è¿ç»­åˆ›å»ºçš„ä¸¤ä¸ªå¯¹è±¡ã€æ•°ç»„ç­‰ã€‚</p>
<h3 id="å¸¦æœ‰é«˜é€Ÿç¼“å­˜çš„CPUæ‰§è¡Œè®¡ç®—çš„æµç¨‹"><a href="#å¸¦æœ‰é«˜é€Ÿç¼“å­˜çš„CPUæ‰§è¡Œè®¡ç®—çš„æµç¨‹" class="headerlink" title="å¸¦æœ‰é«˜é€Ÿç¼“å­˜çš„CPUæ‰§è¡Œè®¡ç®—çš„æµç¨‹"></a>å¸¦æœ‰é«˜é€Ÿç¼“å­˜çš„CPUæ‰§è¡Œè®¡ç®—çš„æµç¨‹</h3><ol>
<li>ç¨‹åºä»¥åŠæ•°æ®è¢«åŠ è½½åˆ°ä¸»å†…å­˜</li>
<li>æŒ‡ä»¤å’Œæ•°æ®è¢«åŠ è½½åˆ°CPUçš„é«˜é€Ÿç¼“å­˜</li>
<li>CPUæ‰§è¡ŒæŒ‡ä»¤ï¼ŒæŠŠç»“æœå†™åˆ°é«˜é€Ÿç¼“å­˜</li>
<li>é«˜é€Ÿç¼“å­˜ä¸­çš„æ•°æ®å†™å›ä¸»å†…å­˜</li>
</ol>
<p>ç”±äºCPUçš„è¿ç®—é€Ÿåº¦è¶…è¶Šäº†1çº§ç¼“å­˜çš„æ•°æ®I\Oèƒ½åŠ›ï¼ŒCPUå‚å•†åˆå¼•å…¥äº†å¤šçº§çš„ç¼“å­˜ç»“æ„ã€‚</p>
<p>å¤šæ ¸CPUçš„æƒ…å†µä¸‹æœ‰å¤šä¸ªä¸€çº§ç¼“å­˜ï¼Œå¦‚ä½•ä¿è¯ç¼“å­˜å†…éƒ¨æ•°æ®çš„ä¸€è‡´,ä¸è®©ç³»ç»Ÿæ•°æ®æ··ä¹±ã€‚è¿™é‡Œå°±å¼•å‡ºäº†ä¸€ä¸ªä¸€è‡´æ€§çš„åè®®MESIã€‚</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>JAVAåŸºç¡€</tag>
        <tag>volatile</tag>
      </tags>
  </entry>
  <entry>
    <title>JAVAé”</title>
    <url>/2020/04/19/JAVA%E9%94%81/</url>
    <content><![CDATA[<h1 id="é”å‡çº§è¿‡ç¨‹"><a href="#é”å‡çº§è¿‡ç¨‹" class="headerlink" title="é”å‡çº§è¿‡ç¨‹"></a>é”å‡çº§è¿‡ç¨‹</h1><p>new -&gt; åå‘é” -&gt; è½»é‡çº§é” (æ— é”ã€è‡ªæ—‹é”ã€è‡ªé€‚åº”è‡ªæ—‹) -&gt; é‡é‡çº§é”</p>
<h2 id="åå‘é”"><a href="#åå‘é”" class="headerlink" title="åå‘é”"></a>åå‘é”</h2><p>åå‘äºç¬¬ä¸€ä¸ªåˆšåˆšè¿›æ¥çš„çº¿ç¨‹(è´´æ ‡ç­¾ï¼Œå¼ ä¸‰çš„é”ï¼Œå½“å‰çº¿ç¨‹çš„æŒ‡é’ˆ)ï¼Œä¸ç”¨ç”³è¯·æ“ä½œç³»ç»Ÿå±‚é¢çš„å¤§é”</p>
<h2 id="è½»é‡çº§é”ï¼ˆè‡ªæ—‹é”ï¼‰"><a href="#è½»é‡çº§é”ï¼ˆè‡ªæ—‹é”ï¼‰" class="headerlink" title="è½»é‡çº§é”ï¼ˆè‡ªæ—‹é”ï¼‰"></a>è½»é‡çº§é”ï¼ˆè‡ªæ—‹é”ï¼‰</h2><p>å½“åå‘é”å‘ç”Ÿä»»æ„ç«äº‰çš„æ—¶å€™ï¼Œåå‘é”ä¼šå‡çº§ä¸ºè½»é‡çº§é”ã€‚é¦–å…ˆæ’¤é”€åå‘é”ï¼ŒCASæ“ä½œï¼Œä¿®æ”¹æŒ‡å‘çº¿ç¨‹æ ˆ(ç«äº‰è€…)ä¸­Lock Recordï¼ˆç«äº‰ç€çš„æ ‡ç­¾ï¼‰çš„æŒ‡é’ˆ</p>
<h2 id="é‡é‡çº§é”"><a href="#é‡é‡çº§é”" class="headerlink" title="é‡é‡çº§é”"></a>é‡é‡çº§é”</h2><p>JDK1.6ä¹‹å‰ï¼Œå½“è‡ªæ—‹æ¬¡æ•°è¶…è¿‡10æ¬¡ï¼Œæˆ–è€…ç­‰å¾…çº¿ç¨‹è¶…è¿‡CPUæ ¸æ•°1/2ã€‚</p>
<p>JDK1.6ä¹‹åï¼ŒåŠ å…¥è‡ªé€‚åº”è‡ªæ—‹ï¼ŒJVMè‡ªå·±æ§åˆ¶ã€‚</p>
<p>æ¦‚å¿µï¼šç”¨æˆ·æ€ï¼Œå†…æ ¸æ€ã€‚</p>
<p>è½»é‡çº§é”æ—¶ç”¨æˆ·æ€çš„ä¸€ä¸ªå¾ªç¯ï¼Œæ‰§è¡Œæ•ˆç‡é«˜ï¼Œå¾ªç¯ä¼šä¸æ–­æ¶ˆè€—CPUï¼Œç”³è¯·é‡é‡çº§é”æ—¶è¦å‘å†…æ ¸ç”³è¯·ã€‚é‡é‡çº§é”é”å®šæ—¶ï¼Œå…¶ä»–çº¿ç¨‹å¤„äºç­‰å¾…çŠ¶æ€ï¼Œä¸æ¶ˆè€—CPUã€‚</p>
<h1 id="é”é™çº§"><a href="#é”é™çº§" class="headerlink" title="é”é™çº§"></a>é”é™çº§</h1><p>é”é™çº§å‘ç”Ÿåœ¨GC,åªè¢«VMThreadè®¿é—®ï¼Œé™çº§æ²¡æœ‰æ„ä¹‰ï¼Œç®€å•è®¤ä¸ºé™çº§ä¸å­˜åœ¨</p>
<h1 id="é”æ¶ˆé™¤"><a href="#é”æ¶ˆé™¤" class="headerlink" title="é”æ¶ˆé™¤"></a>é”æ¶ˆé™¤</h1><h1 id="é”ç²—åŒ–"><a href="#é”ç²—åŒ–" class="headerlink" title="é”ç²—åŒ–"></a>é”ç²—åŒ–</h1><h1 id="synchonized-å®ç°è¿‡ç¨‹"><a href="#synchonized-å®ç°è¿‡ç¨‹" class="headerlink" title="synchonized å®ç°è¿‡ç¨‹"></a>synchonized å®ç°è¿‡ç¨‹</h1><ol>
<li>JAVAä»£ç å±‚çº§ï¼šsynchronized</li>
<li>å­—èŠ‚ç å±‚çº§ï¼šmonitorenter monitorexit</li>
<li>JVMæ‰§è¡Œå±‚çº§ï¼šè‡ªåŠ¨é”å‡çº§</li>
<li>CPUæ±‡ç¼–å±‚çº§ï¼šlock comxchg</li>
</ol>
<h1 id=""><a href="#" class="headerlink" title=""></a></h1><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>JAVAåŸºç¡€</tag>
        <tag>é”</tag>
      </tags>
  </entry>
  <entry>
    <title>CAS</title>
    <url>/2020/04/16/CAS/</url>
    <content><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯CAS"><a href="#ä»€ä¹ˆæ˜¯CAS" class="headerlink" title="ä»€ä¹ˆæ˜¯CAS"></a>ä»€ä¹ˆæ˜¯CAS</h1><p>Compare and Swap æ¯”è¾ƒå†äº¤æ¢<br>æ˜¯ä¸€ç§ä¹è§‚é”ï¼Œjava.util.concurrent.*å¹¶å‘åŒ…ä»¥CASå®ç°ï¼Œè€Œsynchronizedå…³é”®å­—ä¿è¯åŒæ­¥ï¼Œæ˜¯ç‹¬å é”ï¼Œæ‚²è§‚é”<br>CASåœ¨åº•å±‚æœ‰æ±‡ç¼–æŒ‡ä»¤å¯¹åº”</p>
<pre><code>lock cpmxchg</code></pre><p>cpmxchg æœ¬èº«ä¸å…·å¤‡åŸå­æ€§<br>lock æŒ‡ä»¤å½“å‰CPUç‹¬å ï¼Œå…¶ä»–CPUä¸èƒ½ä½¿ç”¨<br>ä»£ç ç¤ºä¾‹</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">package</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>atomic<span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AtomicInteger</span> <span class="token keyword">extends</span> <span class="token class-name">Number</span> <span class="token keyword">implements</span> <span class="token class-name">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>Serializable</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token function">incrementAndGet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> unsafe<span class="token punctuation">.</span><span class="token function">getAndAddInt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> valueOffset<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-java"><code class="language-java"><span class="token keyword">package</span> sun<span class="token punctuation">.</span>misc<span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Unsafe</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">native</span> <span class="token keyword">boolean</span> <span class="token function">compareAndSwapInt</span><span class="token punctuation">(</span>Object var1<span class="token punctuation">,</span> <span class="token keyword">long</span> var2<span class="token punctuation">,</span> <span class="token keyword">int</span> var4<span class="token punctuation">,</span> <span class="token keyword">int</span> var5<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token function">getAndAddInt</span><span class="token punctuation">(</span>Object var1<span class="token punctuation">,</span> <span class="token keyword">long</span> var2<span class="token punctuation">,</span> <span class="token keyword">int</span> var4<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> var5<span class="token punctuation">;</span>
        <span class="token keyword">do</span> <span class="token punctuation">{</span>
            var5 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getIntVolatile</span><span class="token punctuation">(</span>var1<span class="token punctuation">,</span> var2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">compareAndSwapInt</span><span class="token punctuation">(</span>var1<span class="token punctuation">,</span> var2<span class="token punctuation">,</span> var5<span class="token punctuation">,</span> var5 <span class="token operator">+</span> var4<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> var5<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h1 id="CASç®—æ³•"><a href="#CASç®—æ³•" class="headerlink" title="CASç®—æ³•"></a>CASç®—æ³•</h1><p><img src="/images/CAS/cas-1587012444327.png" alt=""></p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>JAVAåŸºç¡€</tag>
        <tag>é”</tag>
        <tag>CAS</tag>
      </tags>
  </entry>
  <entry>
    <title>HEXOåšå®¢ä½¿ç”¨è®°å½•</title>
    <url>/2020/04/06/HEXO%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<h1 id="æ–°å»ºåšå®¢"><a href="#æ–°å»ºåšå®¢" class="headerlink" title="æ–°å»ºåšå®¢"></a>æ–°å»ºåšå®¢</h1><pre><code>hexo n "æ–°å»ºåšå®¢" //new
hexo clean
hexo g //generated
hexo s //server</code></pre><h1 id="å°†åšå®¢æ‰˜ç®¡åˆ°GitHubä¸Š"><a href="#å°†åšå®¢æ‰˜ç®¡åˆ°GitHubä¸Š" class="headerlink" title="å°†åšå®¢æ‰˜ç®¡åˆ°GitHubä¸Š"></a>å°†åšå®¢æ‰˜ç®¡åˆ°GitHubä¸Š</h1><h2 id="å®‰è£…gitæ‰˜ç®¡æ’ä»¶"><a href="#å®‰è£…gitæ‰˜ç®¡æ’ä»¶" class="headerlink" title="å®‰è£…gitæ‰˜ç®¡æ’ä»¶"></a>å®‰è£…gitæ‰˜ç®¡æ’ä»¶</h2><pre><code>cnpm install --save hexo-deployer-git</code></pre><h2 id="ä¿®æ”¹-hexoçš„-config-yml"><a href="#ä¿®æ”¹-hexoçš„-config-yml" class="headerlink" title="ä¿®æ”¹_hexoçš„_config.yml"></a>ä¿®æ”¹_hexoçš„_config.yml</h2><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">deploy</span><span class="token punctuation">:</span>
  <span class="token key atrule">type</span><span class="token punctuation">:</span> git
  <span class="token key atrule">repo</span><span class="token punctuation">:</span> git@github.com<span class="token punctuation">:</span>johnnyBoom/johnnyBoom.github.io.git
  <span class="token key atrule">branch</span><span class="token punctuation">:</span> master</code></pre>
<h2 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h2><pre><code>hexo d</code></pre><h1 id="æ›´æ¢ä¸»é¢˜"><a href="#æ›´æ¢ä¸»é¢˜" class="headerlink" title="æ›´æ¢ä¸»é¢˜"></a>æ›´æ¢ä¸»é¢˜</h1><h2 id="ä¸‹è½½ä¸»é¢˜åŒ…"><a href="#ä¸‹è½½ä¸»é¢˜åŒ…" class="headerlink" title="ä¸‹è½½ä¸»é¢˜åŒ…"></a>ä¸‹è½½ä¸»é¢˜åŒ…</h2><pre><code>git clone https://github.com/litten/hexo-theme-yilia.git themes/yilia</code></pre><h2 id="æ›´æ”¹-config-yml"><a href="#æ›´æ”¹-config-yml" class="headerlink" title="æ›´æ”¹_config.yml"></a>æ›´æ”¹_config.yml</h2><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">theme</span><span class="token punctuation">:</span> yilia</code></pre>
<h2 id="åˆ†ç±»-æ ‡ç­¾é»˜è®¤é¡µ"><a href="#åˆ†ç±»-æ ‡ç­¾é»˜è®¤é¡µ" class="headerlink" title="åˆ†ç±»/æ ‡ç­¾é»˜è®¤é¡µ"></a>åˆ†ç±»/æ ‡ç­¾é»˜è®¤é¡µ</h2><pre><code>hexo new page categories
hexo new page tags</code></pre><pre><code>---
title: categories
type: categories
layout: "categories"
---</code></pre><h2 id="SearchåŠŸèƒ½"><a href="#SearchåŠŸèƒ½" class="headerlink" title="SearchåŠŸèƒ½"></a>SearchåŠŸèƒ½</h2><pre><code>$ npm install hexo-generator-searchdb --save</code></pre><p>ä¿®æ”¹hexoçš„_config.yml</p>
<pre class=" language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># Hexo-generator-search</span>
<span class="token key atrule">search</span><span class="token punctuation">:</span>
  <span class="token key atrule">path</span><span class="token punctuation">:</span> search.xml
  <span class="token key atrule">field</span><span class="token punctuation">:</span> post</code></pre>
<h2 id="RSS"><a href="#RSS" class="headerlink" title="RSS"></a>RSS</h2><pre><code>$ npm install hexo-generator-feed --save</code></pre><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">feed</span><span class="token punctuation">:</span>
  <span class="token key atrule">type</span><span class="token punctuation">:</span> atom
  <span class="token key atrule">path</span><span class="token punctuation">:</span> atom.xml
  <span class="token key atrule">limit</span><span class="token punctuation">:</span> <span class="token number">20</span>
  <span class="token key atrule">hub</span><span class="token punctuation">:</span>
  <span class="token key atrule">content</span><span class="token punctuation">:</span>
  <span class="token key atrule">content_limit</span><span class="token punctuation">:</span> <span class="token number">140</span>
  <span class="token key atrule">content_limit_delim</span><span class="token punctuation">:</span> <span class="token string">' '</span>
  <span class="token key atrule">order_by</span><span class="token punctuation">:</span> <span class="token punctuation">-</span>date</code></pre>
<h1 id="é…ç½®åŸŸå"><a href="#é…ç½®åŸŸå" class="headerlink" title="é…ç½®åŸŸå"></a>é…ç½®åŸŸå</h1><h2 id="æ³¨å†ŒåŸŸå"><a href="#æ³¨å†ŒåŸŸå" class="headerlink" title="æ³¨å†ŒåŸŸå"></a>æ³¨å†ŒåŸŸå</h2><p>åšåŸŸåæ˜ å°„<br>johnnyb.club johnnyBoom.github.io</p>
<h2 id="æ–°å»ºCNAME"><a href="#æ–°å»ºCNAME" class="headerlink" title="æ–°å»ºCNAME"></a>æ–°å»ºCNAME</h2><p>æ ¹ç›®å½•æ–°å»ºCNAME johnnyb.club</p>
<h1 id="ç»“åˆtyporaæ’å…¥å›¾ç‰‡"><a href="#ç»“åˆtyporaæ’å…¥å›¾ç‰‡" class="headerlink" title="ç»“åˆtyporaæ’å…¥å›¾ç‰‡"></a>ç»“åˆtyporaæ’å…¥å›¾ç‰‡</h1><p>æ–‡ä»¶-&gt;åå¥½è®¾ç½®-&gt;</p>
<p><img src="/images/HEXO%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/typora1.png" alt="typoraè®¾ç½®"></p>
<p>æ ¼å¼-&gt;å›¾åƒ-&gt;è®¾ç½®å›¾ç‰‡æ ¹ç›®å½•,å°†<code>hexo/source</code>ä½œä¸ºå…¶æ ¹ç›®å½•å³å¯</p>
<h1 id="Code-highlight"><a href="#Code-highlight" class="headerlink" title="Code highlight"></a>Code highlight</h1><pre><code>npm i -S hexo-prism-plugin</code></pre><p>ä¿®æ”¹hexoçš„_config.yml</p>
<pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">highlight</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>

<span class="token key atrule">prism_plugin</span><span class="token punctuation">:</span>
  <span class="token key atrule">mode</span><span class="token punctuation">:</span> <span class="token string">'preprocess'</span>    <span class="token comment" spellcheck="true"># realtime/preprocess</span>
  <span class="token key atrule">theme</span><span class="token punctuation">:</span> <span class="token string">'tomorrow'</span>
  <span class="token key atrule">line_number</span><span class="token punctuation">:</span> <span class="token boolean important">false    </span><span class="token comment" spellcheck="true"># default false</span>
  custom_css<span class="token punctuation">:</span></code></pre>
<h1 id="word-count"><a href="#word-count" class="headerlink" title="word count"></a>word count</h1><pre><code>npm i --save hexo-wordcount</code></pre><p>ä¿®æ”¹themeçš„config</p>
<pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">postInfo</span><span class="token punctuation">:</span>
  <span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">update</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">wordCount</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment" spellcheck="true"># set true.</span>
  <span class="token key atrule">totalCount</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment" spellcheck="true"># set true.</span>
  <span class="token key atrule">min2read</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment" spellcheck="true"># set true.</span>
  <span class="token key atrule">readCount</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment" spellcheck="true"># set true.</span></code></pre>
<h1 id="æ·»åŠ å¢¨è¿¹è¡¨æƒ…"><a href="#æ·»åŠ å¢¨è¿¹è¡¨æƒ…" class="headerlink" title="æ·»åŠ å¢¨è¿¹è¡¨æƒ…"></a>æ·»åŠ å¢¨è¿¹è¡¨æƒ…</h1><pre><code>npm install hexo-filter-github-emojis --save</code></pre><p>ä¿®æ”¹hexoçš„_config.yml</p>
<pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">githubEmojis</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">className</span><span class="token punctuation">:</span> github<span class="token punctuation">-</span>emoji
  <span class="token key atrule">inject</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">styles</span><span class="token punctuation">:</span>
  customEmojis<span class="token punctuation">:</span></code></pre>
<p>markdowné‡Œä½¿ç”¨ è¯­æ³•::, for example: <span class="github-emoji" style="color: transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8">ğŸ˜„</span></p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>HEXO</tag>
        <tag>åšå®¢</tag>
      </tags>
  </entry>
  <entry>
    <title>JAVAå¯¹è±¡åœ¨å†…å­˜ä¸­å¸ƒå±€</title>
    <url>/2020/04/05/JAVA%E5%AF%B9%E8%B1%A1%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E5%B8%83%E5%B1%80/</url>
    <content><![CDATA[<h1 id="æŸ¥çœ‹å¯¹è±¡å¸ƒå±€çš„å·¥å…·JOL"><a href="#æŸ¥çœ‹å¯¹è±¡å¸ƒå±€çš„å·¥å…·JOL" class="headerlink" title="æŸ¥çœ‹å¯¹è±¡å¸ƒå±€çš„å·¥å…·JOL"></a>æŸ¥çœ‹å¯¹è±¡å¸ƒå±€çš„å·¥å…·JOL</h1><h2 id="mavenå¼•å…¥"><a href="#mavenå¼•å…¥" class="headerlink" title="mavenå¼•å…¥"></a>mavenå¼•å…¥</h2><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!-- https://mvnrepository.com/artifact/org.openjdk.jol/jol-core --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.openjdk.jol<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jol-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>0.10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></code></pre>
<h2 id="æµ‹è¯•ä»£ç "><a href="#æµ‹è¯•ä»£ç " class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h2><pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Object o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ClassLayout<span class="token punctuation">.</span><span class="token function">parseInstance</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toPrintable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre>
<h2 id="æ‰§è¡Œç»“æœ"><a href="#æ‰§è¡Œç»“æœ" class="headerlink" title="æ‰§è¡Œç»“æœ"></a>æ‰§è¡Œç»“æœ</h2><p><img src="/images/JAVA%E5%AF%B9%E8%B1%A1%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E5%B8%83%E5%B1%80/ObjectLayout.png" alt=""></p>
<h1 id="å¯¹è±¡åœ¨å†…å­˜ä¸­çš„å­˜å‚¨å¸ƒå±€"><a href="#å¯¹è±¡åœ¨å†…å­˜ä¸­çš„å­˜å‚¨å¸ƒå±€" class="headerlink" title="å¯¹è±¡åœ¨å†…å­˜ä¸­çš„å­˜å‚¨å¸ƒå±€"></a>å¯¹è±¡åœ¨å†…å­˜ä¸­çš„å­˜å‚¨å¸ƒå±€</h1><p><img src="/images/JAVA%E5%AF%B9%E8%B1%A1%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E5%B8%83%E5%B1%80/ObjectLayout1.jpg" alt=""></p>
<h2 id="å‹ç¼©æŒ‡é’ˆ"><a href="#å‹ç¼©æŒ‡é’ˆ" class="headerlink" title="å‹ç¼©æŒ‡é’ˆ"></a>å‹ç¼©æŒ‡é’ˆ</h2><p><img src="/images/JAVA%E5%AF%B9%E8%B1%A1%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E5%B8%83%E5%B1%80/CompressdPointer.png" alt=""></p>
<p>ä¸€ä¸ªæŒ‡é’ˆçš„é•¿åº¦æ˜¯64ä½ï¼Œ8ä¸ªå­—èŠ‚ã€‚å¼€å¯å‹ç¼©åä¸€ä¸ªæŒ‡é’ˆå‹ç¼©ä¸º4ä¸ªå­—èŠ‚ã€‚</p>
<p>ClassPointersï¼šç±»å‹æŒ‡é’ˆï¼Œåœ¨å¯¹è±¡å¤´é‡Œ</p>
<p>Oops: æ™®é€š(ordinary)å¯¹è±¡æŒ‡é’ˆ</p>
<p><img src="/images/JAVA%E5%AF%B9%E8%B1%A1%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E5%B8%83%E5%B1%80/ObjectLayout-1587257988492.png" alt=""></p>
<p>æœ‰æˆå‘˜å˜é‡çš„å¯¹è±¡å†…å­˜å¸ƒå±€ï¼š</p>
<p><img src="/images/JAVA%E5%AF%B9%E8%B1%A1%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E5%B8%83%E5%B1%80/ObjectLayout2.png" alt=""></p>
<h2 id="é”çš„ä¿¡æ¯è®°å½•åœ¨markword"><a href="#é”çš„ä¿¡æ¯è®°å½•åœ¨markword" class="headerlink" title="é”çš„ä¿¡æ¯è®°å½•åœ¨markword"></a>é”çš„ä¿¡æ¯è®°å½•åœ¨markword</h2><pre class=" language-java"><code class="language-java">Object o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ClassLayout<span class="token punctuation">.</span><span class="token function">parseInstance</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toPrintable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ClassLayout<span class="token punctuation">.</span><span class="token function">parseInstance</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toPrintable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span></code></pre>
<p><img src="/images/JAVA%E5%AF%B9%E8%B1%A1%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E5%B8%83%E5%B1%80/1587258620844.png" alt="1587258620844"></p>
<p>markwordä¸­è®°å½•ç€é”ä¿¡æ¯ã€GCæ ‡è®°ä¿¡æ¯ã€hashCode</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>JAVAåŸºç¡€</tag>
      </tags>
  </entry>
</search>
