<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>CAS</title>
    <url>/2020/04/16/CAS/</url>
    <content><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯CAS"><a href="#ä»€ä¹ˆæ˜¯CAS" class="headerlink" title="ä»€ä¹ˆæ˜¯CAS"></a>ä»€ä¹ˆæ˜¯CAS</h1><p>Compare and Swap æ¯”è¾ƒå†äº¤æ¢<br>æ˜¯ä¸€ç§ä¹è§‚é”ï¼Œjava.util.concurrent.*å¹¶å‘åŒ…ä»¥CASå®ç°ï¼Œè€Œsynchronizedå…³é”®å­—ä¿è¯åŒæ­¥ï¼Œæ˜¯ç‹¬å é”ï¼Œæ‚²è§‚é”<br>CASåœ¨åº•å±‚æœ‰æ±‡ç¼–æŒ‡ä»¤å¯¹åº”</p>
<pre><code>lock cpmxchg</code></pre><p>cpmxchg æœ¬èº«ä¸å…·å¤‡åŸå­æ€§<br>lock æŒ‡ä»¤å½“å‰CPUç‹¬å ï¼Œå…¶ä»–CPUä¸èƒ½ä½¿ç”¨<br>ä»£ç ç¤ºä¾‹</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">package</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>atomic<span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AtomicInteger</span> <span class="token keyword">extends</span> <span class="token class-name">Number</span> <span class="token keyword">implements</span> <span class="token class-name">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>Serializable</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token function">incrementAndGet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> unsafe<span class="token punctuation">.</span><span class="token function">getAndAddInt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> valueOffset<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-java"><code class="language-java"><span class="token keyword">package</span> sun<span class="token punctuation">.</span>misc<span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Unsafe</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">native</span> <span class="token keyword">boolean</span> <span class="token function">compareAndSwapInt</span><span class="token punctuation">(</span>Object var1<span class="token punctuation">,</span> <span class="token keyword">long</span> var2<span class="token punctuation">,</span> <span class="token keyword">int</span> var4<span class="token punctuation">,</span> <span class="token keyword">int</span> var5<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token function">getAndAddInt</span><span class="token punctuation">(</span>Object var1<span class="token punctuation">,</span> <span class="token keyword">long</span> var2<span class="token punctuation">,</span> <span class="token keyword">int</span> var4<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> var5<span class="token punctuation">;</span>
        <span class="token keyword">do</span> <span class="token punctuation">{</span>
            var5 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getIntVolatile</span><span class="token punctuation">(</span>var1<span class="token punctuation">,</span> var2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">compareAndSwapInt</span><span class="token punctuation">(</span>var1<span class="token punctuation">,</span> var2<span class="token punctuation">,</span> var5<span class="token punctuation">,</span> var5 <span class="token operator">+</span> var4<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> var5<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h1 id="CASç®—æ³•"><a href="#CASç®—æ³•" class="headerlink" title="CASç®—æ³•"></a>CASç®—æ³•</h1><p><img src="/images/CAS/cas-1587012444327.png" alt=""></p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>JAVAåŸºç¡€</tag>
        <tag>é”</tag>
        <tag>CAS</tag>
      </tags>
  </entry>
  <entry>
    <title>HEXOåšå®¢ä½¿ç”¨è®°å½•</title>
    <url>/2020/04/06/HEXO%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<h1 id="æ–°å»ºåšå®¢"><a href="#æ–°å»ºåšå®¢" class="headerlink" title="æ–°å»ºåšå®¢"></a>æ–°å»ºåšå®¢</h1><pre><code>hexo n "æ–°å»ºåšå®¢" //new
hexo clean
hexo g //generated
hexo s //server</code></pre><h1 id="å°†åšå®¢æ‰˜ç®¡åˆ°GitHubä¸Š"><a href="#å°†åšå®¢æ‰˜ç®¡åˆ°GitHubä¸Š" class="headerlink" title="å°†åšå®¢æ‰˜ç®¡åˆ°GitHubä¸Š"></a>å°†åšå®¢æ‰˜ç®¡åˆ°GitHubä¸Š</h1><h2 id="å®‰è£…gitæ‰˜ç®¡æ’ä»¶"><a href="#å®‰è£…gitæ‰˜ç®¡æ’ä»¶" class="headerlink" title="å®‰è£…gitæ‰˜ç®¡æ’ä»¶"></a>å®‰è£…gitæ‰˜ç®¡æ’ä»¶</h2><pre><code>cnpm install --save hexo-deployer-git</code></pre><h2 id="ä¿®æ”¹-hexoçš„-config-yml"><a href="#ä¿®æ”¹-hexoçš„-config-yml" class="headerlink" title="ä¿®æ”¹_hexoçš„_config.yml"></a>ä¿®æ”¹_hexoçš„_config.yml</h2><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">deploy</span><span class="token punctuation">:</span>
  <span class="token key atrule">type</span><span class="token punctuation">:</span> git
  <span class="token key atrule">repo</span><span class="token punctuation">:</span> git@github.com<span class="token punctuation">:</span>johnnyBoom/johnnyBoom.github.io.git
  <span class="token key atrule">branch</span><span class="token punctuation">:</span> master</code></pre>
<h2 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h2><pre><code>hexo d</code></pre><h1 id="æ›´æ¢ä¸»é¢˜"><a href="#æ›´æ¢ä¸»é¢˜" class="headerlink" title="æ›´æ¢ä¸»é¢˜"></a>æ›´æ¢ä¸»é¢˜</h1><h2 id="ä¸‹è½½ä¸»é¢˜åŒ…"><a href="#ä¸‹è½½ä¸»é¢˜åŒ…" class="headerlink" title="ä¸‹è½½ä¸»é¢˜åŒ…"></a>ä¸‹è½½ä¸»é¢˜åŒ…</h2><pre><code>git clone https://github.com/litten/hexo-theme-yilia.git themes/yilia</code></pre><h2 id="æ›´æ”¹-config-yml"><a href="#æ›´æ”¹-config-yml" class="headerlink" title="æ›´æ”¹_config.yml"></a>æ›´æ”¹_config.yml</h2><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">theme</span><span class="token punctuation">:</span> yilia</code></pre>
<h2 id="åˆ†ç±»-æ ‡ç­¾é»˜è®¤é¡µ"><a href="#åˆ†ç±»-æ ‡ç­¾é»˜è®¤é¡µ" class="headerlink" title="åˆ†ç±»/æ ‡ç­¾é»˜è®¤é¡µ"></a>åˆ†ç±»/æ ‡ç­¾é»˜è®¤é¡µ</h2><pre><code>hexo new page categories
hexo new page tags</code></pre><pre><code>---
title: categories
type: categories
layout: "categories"
---</code></pre><h2 id="SearchåŠŸèƒ½"><a href="#SearchåŠŸèƒ½" class="headerlink" title="SearchåŠŸèƒ½"></a>SearchåŠŸèƒ½</h2><pre><code>$ npm install hexo-generator-searchdb --save</code></pre><p>ä¿®æ”¹hexoçš„_config.yml</p>
<pre class=" language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># Hexo-generator-search</span>
<span class="token key atrule">search</span><span class="token punctuation">:</span>
  <span class="token key atrule">path</span><span class="token punctuation">:</span> search.xml
  <span class="token key atrule">field</span><span class="token punctuation">:</span> post</code></pre>
<h2 id="RSS"><a href="#RSS" class="headerlink" title="RSS"></a>RSS</h2><pre><code>$ npm install hexo-generator-feed --save</code></pre><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">feed</span><span class="token punctuation">:</span>
  <span class="token key atrule">type</span><span class="token punctuation">:</span> atom
  <span class="token key atrule">path</span><span class="token punctuation">:</span> atom.xml
  <span class="token key atrule">limit</span><span class="token punctuation">:</span> <span class="token number">20</span>
  <span class="token key atrule">hub</span><span class="token punctuation">:</span>
  <span class="token key atrule">content</span><span class="token punctuation">:</span>
  <span class="token key atrule">content_limit</span><span class="token punctuation">:</span> <span class="token number">140</span>
  <span class="token key atrule">content_limit_delim</span><span class="token punctuation">:</span> <span class="token string">' '</span>
  <span class="token key atrule">order_by</span><span class="token punctuation">:</span> <span class="token punctuation">-</span>date</code></pre>
<h1 id="é…ç½®åŸŸå"><a href="#é…ç½®åŸŸå" class="headerlink" title="é…ç½®åŸŸå"></a>é…ç½®åŸŸå</h1><h2 id="æ³¨å†ŒåŸŸå"><a href="#æ³¨å†ŒåŸŸå" class="headerlink" title="æ³¨å†ŒåŸŸå"></a>æ³¨å†ŒåŸŸå</h2><p>åšåŸŸåæ˜ å°„<br>johnnyb.club johnnyBoom.github.io</p>
<h2 id="æ–°å»ºCNAME"><a href="#æ–°å»ºCNAME" class="headerlink" title="æ–°å»ºCNAME"></a>æ–°å»ºCNAME</h2><p>æ ¹ç›®å½•æ–°å»ºCNAME johnnyb.club</p>
<h1 id="ç»“åˆtyporaæ’å…¥å›¾ç‰‡"><a href="#ç»“åˆtyporaæ’å…¥å›¾ç‰‡" class="headerlink" title="ç»“åˆtyporaæ’å…¥å›¾ç‰‡"></a>ç»“åˆtyporaæ’å…¥å›¾ç‰‡</h1><p>æ–‡ä»¶-&gt;åå¥½è®¾ç½®-&gt;</p>
<p><img src="/images/HEXO%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/typora1.png" alt="typoraè®¾ç½®"></p>
<p>æ ¼å¼-&gt;å›¾åƒ-&gt;è®¾ç½®å›¾ç‰‡æ ¹ç›®å½•,å°†<code>hexo/source</code>ä½œä¸ºå…¶æ ¹ç›®å½•å³å¯</p>
<h1 id="Code-highlight"><a href="#Code-highlight" class="headerlink" title="Code highlight"></a>Code highlight</h1><pre><code>npm i -S hexo-prism-plugin</code></pre><p>ä¿®æ”¹hexoçš„_config.yml</p>
<pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">highlight</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>

<span class="token key atrule">prism_plugin</span><span class="token punctuation">:</span>
  <span class="token key atrule">mode</span><span class="token punctuation">:</span> <span class="token string">'preprocess'</span>    <span class="token comment" spellcheck="true"># realtime/preprocess</span>
  <span class="token key atrule">theme</span><span class="token punctuation">:</span> <span class="token string">'tomorrow'</span>
  <span class="token key atrule">line_number</span><span class="token punctuation">:</span> <span class="token boolean important">false    </span><span class="token comment" spellcheck="true"># default false</span>
  custom_css<span class="token punctuation">:</span></code></pre>
<h1 id="word-count"><a href="#word-count" class="headerlink" title="word count"></a>word count</h1><pre><code>npm i --save hexo-wordcount</code></pre><p>ä¿®æ”¹themeçš„config</p>
<pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">postInfo</span><span class="token punctuation">:</span>
  <span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">update</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">wordCount</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment" spellcheck="true"># set true.</span>
  <span class="token key atrule">totalCount</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment" spellcheck="true"># set true.</span>
  <span class="token key atrule">min2read</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment" spellcheck="true"># set true.</span>
  <span class="token key atrule">readCount</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment" spellcheck="true"># set true.</span></code></pre>
<h1 id="æ·»åŠ å¢¨è¿¹è¡¨æƒ…"><a href="#æ·»åŠ å¢¨è¿¹è¡¨æƒ…" class="headerlink" title="æ·»åŠ å¢¨è¿¹è¡¨æƒ…"></a>æ·»åŠ å¢¨è¿¹è¡¨æƒ…</h1><pre><code>npm install hexo-filter-github-emojis --save</code></pre><p>ä¿®æ”¹hexoçš„_config.yml</p>
<pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">githubEmojis</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">className</span><span class="token punctuation">:</span> github<span class="token punctuation">-</span>emoji
  <span class="token key atrule">inject</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">styles</span><span class="token punctuation">:</span>
  customEmojis<span class="token punctuation">:</span></code></pre>
<p>markdowné‡Œä½¿ç”¨ è¯­æ³•::, for example: <span class="github-emoji" style="color: transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8">ğŸ˜„</span></p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>HEXO</tag>
        <tag>åšå®¢</tag>
      </tags>
  </entry>
  <entry>
    <title>JAVAå¯¹è±¡åœ¨å†…å­˜ä¸­å¸ƒå±€</title>
    <url>/2020/04/05/JAVA%E5%AF%B9%E8%B1%A1%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E5%B8%83%E5%B1%80/</url>
    <content><![CDATA[<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>JAVAåŸºç¡€</tag>
      </tags>
  </entry>
</search>
